<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;700"
    />
    <link rel="icon" type="image/x-icon" href="./assets/favicon/favicon.svg">
    <style>
      body {
        font-family: "Source Sans 3", sans-serif;
      }
    </style>
    <title>Feedback</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body></body>
  <!-- Logic -->
  <script src="./logic/calculateHappinessScore.js"></script>
  <script src="./logic/delay.js"></script>
  <script src="./logic/submit.js"></script>
  <script src="./logic/uuid.js"></script>
  <script src="./logic/visibility.js"></script>
  <!-- Screens -->
  <script src="./screens/form.js"></script>
  <script src="./screens/progressUpdate.js"></script>
  <script src="./screens/locationSelection.js"></script>

  <script>
    var params = new URLSearchParams(window.location.search)
    promptString = params.get("prompt")

    localStorage.setItem("selectedLocation", null); // Updated on the location selection screen
    
    localStorage.setItem("options", [
      "bad",
      "neutral",
      "good",
    ]);
    
    var isCurrentlySubmitting = false;
    
    var locationScreen = locationSelection(
      ['Brisbane, AU', 'Canberra, AU', 'Melbourne, AU', 'Perth, AU', 'Sydney, AU', 'Toronto, CA', 'Hong Kong, HK', 'Auckland, NZ', 'Napier, NZ', 'Wellington, NZ', 'Cape Town, SA', 'Singapore, SG', 'London, UK', 'Manchester, UK', 'Milton Keynes, UK', 'Denver, USA', 'New York, USA', 'San Francisco, USA'],
      "bg-sky-100"
    );
    
    var formScreen = form(promptString);

    var body = document.getElementsByTagName("body")[0];
    
    var successScreen = progressUpdate(
      "success-screen",
      "bg-green-600",
      "Success!",
      "./assets/alerts/success.png",
    );
    body.appendChild(successScreen);
    body.appendChild(locationScreen);
    body.appendChild(formScreen);
  </script>
</html>
